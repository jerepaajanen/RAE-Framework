.use-forms(@boolean) when (@boolean = true) {
//
// Forms
// -------------------------------------------------------
    form {
        margin: 0 0 @base-spacing-unit 0;
    }
    
    fieldset {
        margin: 0 0 @base-spacing-unit 0; // set vertical rhytmn
        padding: 0;
        border: 0;
        &:last-child {
            margin-bottom: 0; // remove unnecessary margin from last fieldset
        }
        &.fieldset-border {
            border: @fieldset-border-width @fieldset-border-style @fieldset-border-color;
            padding: @base-spacing-unit-half @base-spacing-unit @base-spacing-unit @base-spacing-unit;
            legend {
                padding: 0 @base-spacing-unit-half;
                margin: 0 0 0 (@base-spacing-unit-half * -1);
            }
        }
    }
    
    legend {
        font-weight: @legend-font-weight;
        margin-bottom: @base-spacing-unit-half;
    }
    
    label {
        display: block; // labels goes for their own lines
        cursor: pointer;
        color: @label-color;
        font-size: @label-font-size;
    }
    
    input[type=text],
    input[type=password],
    input[type=email],
    input[type=url],
    input[type=date],
    input[type=tel],
    input[type=number],
    input[type=search],
    select,
    textarea {
        width: 100%; // Let's make 'em responsive!
    }
    
    input {
        &[type="checkbox"],
        &[type="radio"] {
            + label {
                display: inline-block; // labels goes to same line
            }
        }
    }
    
    input[disabled],
    select[disabled],
    textarea[disabled] {
        &,
        & + label {
            // disable also [checkbox] & [radio] labels
            cursor: not-allowed;
            pointer-events: none;
            opacity: .4;
        }
    }
    
    input, 
    select, 
    textarea, 
    [contenteditable="true"] {
        &:focus {
            outline: 0;
        }
    }
    
    input[type="search"] {
        box-sizing: border-box; // override content-box in Normalize
    }
    
    .use-form-styles(@boolean) when (@boolean = true) {
        
        // This is basic styled form. You can make variatios like .form-minimal
        .form {
            
            input[type="date"],
            input[type="datetime"],
            input[type="datetime-local"],
            input[type="email"],
            input[type="month"],
            input[type="number"],
            input[type="password"],
            input[type="search"],
            input[type="tel"],
            input[type="text"],
            input[type="time"],
            input[type="url"],
            input[type="week"], 
            textarea, 
            select {
                // Reset iOS box-shadow
                // Get rid of <select> arrow in FF, idea for this hack:  
                // https://gist.github.com/joaocunha/6273016
                -moz-appearance: none;
                -webkit-appearance: none;
                appearance: none;
                
                background-color: @input-background;
                background-image: none;
                border: @input-border-width solid @input-border-color;
                border-radius: @input-border-radius;
                box-shadow: @input-box-shadow;
                color: @input-color;
                font-size: @input-font-size;
                height: @input-height;
                padding: ((@input-height - (@input-font-size * @line-height-ratio)) / 2) @input-horizontal-padding;
                resize: none; // disable user resizing
                transition: background-color @transition-duration-default @transition-easing-default, color @transition-duration-default @transition-easing-default, opacity @transition-duration-default @transition-easing-default, border-color @transition-duration-default @transition-easing-default;
                
                &:hover {
                    border-color: @input-border-color-hover;
                }
                
                &:focus {
                    border-color: @input-border-color-focus;
                    box-shadow: @input-focus-box-shadow;
                }
            }
            
            textarea, 
            select[multiple] {
                height: auto;
            }
            
            select:not([multiple]) {
                cursor: pointer;
                position: relative;
                background-image: url(../images/form/select.svg);
                background-repeat: no-repeat;
                background-position: center right;
                
                @-moz-document url-prefix() {
                    // Get rid of <select> arrow in FF > 30, idea for this hack:  
                    // https://gist.github.com/joaocunha/6273016
                    text-indent: 0.01px;
                    text-overflow: '';
                    //padding-right: 2rem; // not tested yet...
                }
                
                &:focus:-moz-focusring {
                    color: transparent;
                    text-shadow: 0 0 0 #000;
                }
                &::-ms-expand {
                    display: none;
                }
                &:hover {
                background-image: url(../images/form/select_hover.svg) no-repeat center right;
                }
            }
        }
        
        // Radios and checkboxes
        .radio, .checkbox {
            margin-bottom: @base-spacing-unit-half / 2; // add some spacing between checkboxes/radios
            user-select: none;
            
            // Inline styles
            &.checkbox-inline, 
            &.radio-inline {
                @media @medium-up {
                    display: inline-block;
                    margin-right: @base-spacing-unit; // space out consecutive inline controls
                }
            }
            
            // Hide inputs
            [type="checkbox"],
            [type="radio"] {
                position: absolute; 
                overflow: hidden; 
                clip: rect(0 0 0 0); 
                height: 1px;
                width: 1px; 
                margin: -1px;
                padding: 0;
                border: 0;
            }
            
            // Control inputs with label
            label {
                position: relative;
                margin: 0;
                padding-left: (@input-box-size + (@base-spacing-unit-half / 2));
                line-height: @input-box-size;
                &:before,
                &:after {
                    content: '';
                    position: absolute;
                    left: 0;
                    top: 0;
                    width: @input-box-size;
                    height: @input-box-size;
                }
                
                &:before {
                    background-color: @input-background;
                    border: @input-border-width solid @input-border-color;
                    box-shadow: @input-box-shadow;
                    transition: border-color @transition-duration-default @transition-easing-default;
                }
                
                &:after {
                    background-size: (@input-box-size - ceil(@input-box-size / 6)); // make background-size consistent in ie9 and modern browsers.
                    background-repeat: no-repeat;
                    background-position: center center;
                    background-origin: border-box; // fix IE9 background positioning
                    transition: transform 100ms @transition-easing-default;
                    //transform: scale(0);
                    
                    //CSS Only method
                    transform: scale(0) rotate(45deg);
                    font-size: @input-box-size; // set font-size for em-scaling
                }
                
                &:hover::before {
                    border-color: @input-border-color-hover;
                }
            }
            
            [type="checkbox"]:checked,
            [type="radio"]:checked {
                + label:after {
                    //transform: scale(1);
                    
                    //CSS Only method
                    transform: scale(1) rotate(45deg);
                }
                + label:before {
                    //border-color: transparent;
                }
            }
        }
        
        // Checkbox styles
        .checkbox {
            label {
                &:before {
                    border-radius: @input-checkbox-border-radius;
                }
                &:after {
                    //background-image: url(../images/form/icon-checkbox.svg);
                    
                    //CSS Only method
                    border: solid @input-checkbox-checked-color;
                    border-width: 0 (1em / 6) (1em / 6) 0 ;
                    height: (1em / 1.5);
                    width: (1em / 2.75);
                    position: absolute;
                    left: (1em / 3);
                    top: (1em / 10);
                }
            }
        }
        
        // Radio styles
        .radio {
            label {
                &:before {
                    border-radius: 50%;
                }
                &:after {  
                    //background-image: url(../images/form/icon-radio.svg);
                    
                    //CSS Only method (wip)
                    background-color: @input-radio-checked-color;
                    background-clip: padding-box;
                    border: (1em / 4.5) solid transparent;
                    border-radius: 999em;
                }
            }
        }
    }
    
    .use-form-styles(@use-form-styles);
    
    
    // Block-level form items
    .form-item {
        display: block;
        margin: 0 0 @form-item-spacing 0; // set vertical rhytmn
    }
    
    .form-inline {
        .form-item {
            display: inline-block;
            margin-bottom: 0;
        }
    }
    
    // Placeholder text color
    .placeholder(@input-placeholder-color);
}
.use-forms(@use-forms);