//
// Responsive navigation
// -------------------------------------------------------

.responsive-navigation(@boolean) when (@boolean =true) {

	.nav-responsive() {
		& when (@nav-responsive-breakpoint =@breakpoint-x-large) {

			// Body Class
			body.menu-open {
				height: 100% !important;
				overflow: hidden !important;
			}

			.nav-responsive {
				-webkit-overflow-scrolling: touch; // Prevent "ul" flashing when javascript isn't loaded
				overflow-x: visible;

				&:not(.is-open) {
					display: none;
					visibility: hidden;

					&.is-open {
						overflow-y: auto;
						visibility: visible;
					}
				}

				li>ul:not([aria-hidden="false"]) {
					display: none;
					visibility: hidden;
				}

				[aria-hidden="false"] {
					visibility: visible;
				}

				.no-js & li:hover>ul,
				.no-js & li:focus-within>ul {
					display: block;
					visibility: visible
				}
			}
		}

		& when not (@nav-responsive-breakpoint =@breakpoint-x-large) {

			body.menu-open {
				@media @nav-responsive-down {
					height: 100% !important;
					overflow: hidden !important;
				}
			}

			.nav-toggle {
				@media @nav-responsive-up {
					display: none;
				}
			}

			.nav-responsive() {
				overflow-x: visible;
				-webkit-overflow-scrolling: touch; // Prevent "ul" flashing when javascript isn't loaded

				@media @nav-responsive-down {

					&:not(.is-open) {
						display: none;
						visibility: hidden;

						&.is-open {
							overflow-y: auto;
							visibility: visible;
						}
					}
				}

				@media @nav-responsive-up {

					& {
						overflow: visible;
						visibility: visible;
					}
				}

				[aria-hidden="false"] {
					visibility: visible;
				}
			}
			.nav-responsive-menu() {

				li>&:not([aria-hidden="false"]) {
					display: none;
					visibility: hidden;
				}

				.no-js & li:hover>&,
				.no-js & li:focus-within>& {
					display: block;
					visibility: visible
				}
			}

			.nav-responsive {
				overflow-x: visible;
				-webkit-overflow-scrolling: touch; // Prevent "ul" flashing when javascript isn't loaded

				@media @nav-responsive-down {

					&:not(.is-open) {
						display: none;
						visibility: hidden;

						&.is-open {
							overflow-y: auto;
							visibility: visible;
						}
					}
				}

				@media @nav-responsive-up {

					& {
						overflow: visible;
						visibility: visible;
					}
				}

				li>ul:not([aria-hidden="false"]) {
					display: none;
					visibility: hidden;
				}

				[aria-hidden="false"] {
					visibility: visible;
				}

				.no-js & li:hover>ul,
				.no-js & li:focus-within>ul {
					display: block;
					visibility: visible
				}
			}
		}

		.hook-nav-responsive;
	}

	.nav-responsive();

}

.responsive-navigation(@use-responsive-navigation);

// Hooks
.hook-nav-responsive() {}
